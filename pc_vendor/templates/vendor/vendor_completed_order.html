<!-- vendor/templates/vendor/order_list.html -->
{% extends 'pc_app/base.html' %}

{% block content %}
<h1>Completed Orders</h1>

<form method="get">
  <label for="order_id">Search for Order Number:</label>
  <input type="text" id="order_id" name="order_id" placeholder="Search Order Number">
  <input type="submit" value="Search">
</form>

<ul>
  {% if purchased_items %}
  {% for order in purchased_items %}
  <li><a href="{% url 'vendor_order_detail' order.id %}">Order #{{ order.id }}</a></li>
  {% if order.ready_pickup %}
  {% if order.is_completed %}
  Order Status: Completed
  {% else %}
  Order Status: Ready to Pick up
  {% endif %}
  {% else %}
  Order Status: Not Ready
  {% endif %}
  <li>Order Placed: {{ order.order_date }}</li>
  <br>

  {% endfor %}
  {% else %}
  {% if order_id %}
    Order ID #{{ order_id }} NOT FOUND!
    {% else %}
    No Orders yet!
    {% endif %}
  {% endif %}
</ul>
{% endblock %}